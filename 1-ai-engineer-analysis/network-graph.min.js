const taskData={dev:{name:"ç ”å‘åœºæ™¯",id:"scene-dev",timePercent:65,subcategories:{"AIç¼–ç¨‹":{id:"subcat-ai-coding",timePercent:42,tasks:[{id:"task-code-complete",name:"ä»£ç è¡¥å…¨",timePercent:18,agent:"Coding",tech:"LLM",products:["Copilot","Cursor","é€šä¹‰çµç ","MarsCode"],example:"å®žæ—¶ä»£ç è¡¥å…¨å»ºè®®"},{id:"task-code-gen",name:"ä»£ç ç”Ÿæˆ",timePercent:12,agent:"Coding",tech:"LLM",products:["Cursor","Claude Code","æ–‡å¿ƒå¿«ç "],example:"æ ¹æ®æ³¨é‡Šç”Ÿæˆä»£ç "},{id:"task-refactor",name:"ä»£ç é‡æž„",timePercent:3,agent:"Coding",tech:"LLM",products:["Cursor","é€šä¹‰çµç "],example:"ä¼˜åŒ–ä»£ç ç»“æž„"},{id:"task-bugfix",name:"Bugä¿®å¤",timePercent:4,agent:"Coding",tech:"LLM",products:["Cursor","Devin"],example:"è‡ªåŠ¨å®šä½å¹¶ä¿®å¤Bug"},{id:"task-debug",name:"è°ƒè¯•å®šä½",timePercent:3,agent:"Coding",tech:"LLM",products:["Cursor","MarsCode"],example:"è¾…åŠ©å®šä½é—®é¢˜æ ¹å› "},{id:"task-tool-dev",name:"å°å·¥å…·å¼€å‘",timePercent:2,agent:"Coding",tech:"LLM",products:["Replit","v0.dev"],example:"å¿«é€Ÿå¼€å‘å®žç”¨å°å·¥å…·"}]},"ä»£ç å®¡æŸ¥":{id:"subcat-code-review",timePercent:5,tasks:[{id:"task-code-review",name:"Code Review",timePercent:3,agent:"Workflow",tech:"LLM",products:["CodeRabbit","Codacy"],example:"è‡ªåŠ¨å®¡æŸ¥ä»£ç è´¨é‡"},{id:"task-security",name:"å®‰å…¨æ£€æµ‹",timePercent:1,agent:"Workflow",tech:"LLM",products:["Snyk","SonarQube"],example:"æ£€æµ‹å®‰å…¨æ¼æ´ž"},{id:"task-lint",name:"ä»£ç è§„èŒƒ",timePercent:1,agent:"Workflow",tech:"LLM",products:["Cursor","é€šä¹‰çµç "],example:"ä»£ç æ ¼å¼åŒ–å’Œè§„èŒƒæ£€æŸ¥"}]},"éœ€æ±‚ä¸Žè®¾è®¡":{id:"subcat-requirement",timePercent:3,tasks:[{id:"task-prd",name:"PRDè§£æž",timePercent:1,agent:"Workflow",tech:"RAG",products:["Notion AI","é£žä¹¦æ–‡æ¡£"],example:"è§£æžäº§å“éœ€æ±‚æ–‡æ¡£"},{id:"task-tech-plan",name:"æŠ€æœ¯æ–¹æ¡ˆ",timePercent:2,agent:"Research",tech:"WebSearch",products:["Claude","Kimi","ç§˜å¡”æœç´¢"],example:"ç”ŸæˆæŠ€æœ¯æ–¹æ¡ˆæ–‡æ¡£"}]},"æµ‹è¯•":{id:"subcat-test",timePercent:5,tasks:[{id:"task-unit-test",name:"å•æµ‹ç”Ÿæˆ",timePercent:3,agent:"Coding",tech:"LLM",products:["Copilot","é€šä¹‰çµç "],example:"è‡ªåŠ¨ç”Ÿæˆå•å…ƒæµ‹è¯•"},{id:"task-test-case",name:"ç”¨ä¾‹è®¾è®¡",timePercent:1,agent:"Workflow",tech:"LLM",products:["ChatGPT","Kimi"],example:"è®¾è®¡æµ‹è¯•ç”¨ä¾‹"},{id:"task-mock-data",name:"Mockæ•°æ®",timePercent:1,agent:"Coding",tech:"LLM",products:["ChatGPT","é€šä¹‰åƒé—®"],example:"ç”Ÿæˆæµ‹è¯•Mockæ•°æ®"}]},"æŠ€æœ¯æ–‡æ¡£":{id:"subcat-tech-doc",timePercent:4,tasks:[{id:"task-api-doc",name:"APIæ–‡æ¡£",timePercent:2,agent:"Workflow",tech:"LLM",products:["Mintlify","Readme"],example:"è‡ªåŠ¨ç”ŸæˆAPIæ–‡æ¡£"},{id:"task-code-comment",name:"ä»£ç æ³¨é‡Š",timePercent:2,agent:"Coding",tech:"LLM",products:["Copilot","é€šä¹‰çµç "],example:"è‡ªåŠ¨æ·»åŠ ä»£ç æ³¨é‡Š"}]},"å›¾è¡¨ç»˜åˆ¶":{id:"subcat-diagram",timePercent:2.5,tasks:[{id:"task-arch-diagram",name:"æž¶æž„å›¾",timePercent:1,agent:"Design",tech:"å›¾è¡¨å¼•æ“Ž",products:["Eraser","ç¨¿å®šAI"],example:"ç»˜åˆ¶ç³»ç»Ÿæž¶æž„å›¾"},{id:"task-flow-diagram",name:"æµç¨‹å›¾",timePercent:1,agent:"Design",tech:"å›¾è¡¨å¼•æ“Ž",products:["Mermaid"],example:"ç»˜åˆ¶ä¸šåŠ¡æµç¨‹å›¾"},{id:"task-er-diagram",name:"ERå›¾",timePercent:.5,agent:"Design",tech:"LLM",products:["dbdiagram"],example:"ç»˜åˆ¶æ•°æ®åº“ERå›¾"}]},"æ•°æ®åˆ†æž":{id:"subcat-data-analysis",timePercent:3,tasks:[{id:"task-log-analysis",name:"æ—¥å¿—åˆ†æž",timePercent:1.5,agent:"Data",tech:"SQLå¼•æ“Ž",products:["ChatGPT","é€šä¹‰åƒé—®"],example:"åˆ†æžç³»ç»Ÿæ—¥å¿—"},{id:"task-perf-analysis",name:"æ€§èƒ½åˆ†æž",timePercent:1,agent:"Data",tech:"SQLå¼•æ“Ž",products:["Julius"],example:"åˆ†æžæ€§èƒ½æŒ‡æ ‡"},{id:"task-sql",name:"SQLæŸ¥è¯¢",timePercent:.5,agent:"Data",tech:"SQLå¼•æ“Ž",products:["Hex","ChatGPT"],example:"è‡ªåŠ¨ç”ŸæˆSQL"}]},DevOps:{id:"subcat-devops",timePercent:.5,tasks:[{id:"task-cicd",name:"CI/CDé…ç½®",timePercent:.5,agent:"Workflow",tech:"LLM",products:["GitHub Actions"],example:"é…ç½®æµæ°´çº¿å’Œéƒ¨ç½²è„šæœ¬"}]}}},nondev:{name:"éžç ”å‘åœºæ™¯",id:"scene-nondev",timePercent:35,subcategories:{"æ–‡æ¡£å†™ä½œ":{id:"subcat-doc-writing",timePercent:6,tasks:[{id:"task-blog",name:"åšå®¢/å‘¨æŠ¥",timePercent:2,agent:"Chatbot",tech:"LLM",products:["Notion AI","é£žä¹¦æ–‡æ¡£","WPS AI"],example:"æ’°å†™æŠ€æœ¯åšå®¢å’Œå‘¨æŠ¥"},{id:"task-email",name:"é‚®ä»¶æ’°å†™",timePercent:2,agent:"Chatbot",tech:"LLM",products:["Gmail AI","Kimi"],example:"æ’°å†™å·¥ä½œé‚®ä»¶"},{id:"task-ppt",name:"PPTç”Ÿæˆ",timePercent:2,agent:"Workflow",tech:"å›¾è¡¨å¼•æ“Ž",products:["Gamma","WPS AI"],example:"ç”Ÿæˆæ¼”ç¤ºæ–‡ç¨¿"}]},"æ–‡æ¡£å®¡æŸ¥":{id:"subcat-doc-review",timePercent:3,tasks:[{id:"task-doc-review",name:"æ–‡æ¡£Review",timePercent:1,agent:"Workflow",tech:"LLM",products:["Claude","Kimi"],example:"å®¡æŸ¥æ–‡æ¡£è´¨é‡"},{id:"task-doc-polish",name:"æ–‡æ¡£æ¶¦è‰²",timePercent:1,agent:"Chatbot",tech:"LLM",products:["Grammarly","WPS AI"],example:"æ¶¦è‰²æ–‡æ¡£è¡¨è¾¾"},{id:"task-translate",name:"æ–‡æ¡£ç¿»è¯‘",timePercent:1,agent:"Chatbot",tech:"LLM",products:["DeepL","æœ‰é“ç¿»è¯‘"],example:"æŠ€æœ¯æ–‡æ¡£ç¿»è¯‘"}]},"è°ƒç ”åˆ†æž":{id:"subcat-research",timePercent:7,tasks:[{id:"task-tech-research",name:"æŠ€æœ¯è°ƒç ”",timePercent:4,agent:"Research",tech:"WebSearch",products:["Perplexity","ç§˜å¡”æœç´¢"],example:"è°ƒç ”æ–°æŠ€æœ¯æ–¹æ¡ˆ"},{id:"task-competitor",name:"ç«žå“åˆ†æž",timePercent:2,agent:"Research",tech:"WebSearch",products:["Perplexity","Kimi"],example:"åˆ†æžç«žäº‰äº§å“"},{id:"task-data-collect",name:"æ•°æ®é‡‡é›†",timePercent:1,agent:"Browser",tech:"BrowserUse",products:["Browser Use"],example:"é‡‡é›†ç½‘é¡µæ•°æ®"}]},"ä¼šè®®æ•ˆçŽ‡":{id:"subcat-meeting",timePercent:3,tasks:[{id:"task-meeting-notes",name:"ä¼šè®®çºªè¦",timePercent:3,agent:"Workflow",tech:"LLM",products:["Otter","é£žä¹¦å¦™è®°"],example:"è‡ªåŠ¨ç”Ÿæˆä¼šè®®çºªè¦"}]},"çŸ¥è¯†é—®ç­”":{id:"subcat-qa",timePercent:8,tasks:[{id:"task-tech-qa",name:"æŠ€æœ¯é—®ç­”",timePercent:5,agent:"Chatbot",tech:"LLM",products:["ChatGPT","Kimi","è®¯é£žæ˜Ÿç«"],example:"å›žç­”æŠ€æœ¯é—®é¢˜"},{id:"task-internal-qa",name:"å†…éƒ¨çŸ¥è¯†",timePercent:3,agent:"Chatbot",tech:"RAG",products:["Glean","è…¾è®¯æ··å…ƒ"],example:"æŸ¥è¯¢å†…éƒ¨çŸ¥è¯†åº“"}]},"å›¾ç‰‡ç”Ÿæˆ":{id:"subcat-image",timePercent:1,tasks:[{id:"task-image-gen",name:"é…å›¾ç”Ÿæˆ",timePercent:.5,agent:"Design",tech:"å›¾è¡¨å¼•æ“Ž",products:["Midjourney","ç¨¿å®šAI"],example:"ç”Ÿæˆæ–‡ç« é…å›¾"},{id:"task-chart-beautify",name:"å›¾è¡¨ç¾ŽåŒ–",timePercent:.5,agent:"Design",tech:"å›¾è¡¨å¼•æ“Ž",products:["Canva AI","ç¨¿å®šAI"],example:"ç¾ŽåŒ–æ•°æ®å›¾è¡¨"}]},"è§†é¢‘ç”Ÿæˆ":{id:"subcat-video",timePercent:1,tasks:[{id:"task-demo-video",name:"æ¼”ç¤ºè§†é¢‘",timePercent:.3,agent:"Workflow",tech:"LLM",products:["Sora","å¯çµAI"],example:"ç”Ÿæˆäº§å“æ¼”ç¤ºè§†é¢‘"},{id:"task-avatar",name:"æ•°å­—äºº",timePercent:.3,agent:"Workflow",tech:"LLM",products:["HeyGen","å³æ¢¦AI"],example:"ç”Ÿæˆæ•°å­—äººè§†é¢‘"},{id:"task-voiceover",name:"é…éŸ³",timePercent:.4,agent:"Workflow",tech:"LLM",products:["ElevenLabs","è®¯é£žæ˜Ÿç«"],example:"AIè¯­éŸ³åˆæˆé…éŸ³"}]},"å­¦ä¹ æˆé•¿":{id:"subcat-learning",timePercent:2,tasks:[{id:"task-learning",name:"æŠ€æœ¯å­¦ä¹ ",timePercent:2,agent:"Chatbot",tech:"LLM",products:["ChatGPT","Kimi","è±†åŒ…"],example:"AIè¾…åŠ©å­¦ä¹ æ–°æŠ€æœ¯"}]},"ä¸ªäººåŠ©ç†":{id:"subcat-assistant",timePercent:4,tasks:[{id:"task-schedule",name:"æ—¥ç¨‹ç®¡ç†",timePercent:1,agent:"Background",tech:"è°ƒåº¦å™¨",products:["Motion","é£žä¹¦æ–‡æ¡£"],example:"ç®¡ç†æ—¥ç¨‹å®‰æŽ’"},{id:"task-email-handle",name:"é‚®ä»¶å¤„ç†",timePercent:1.5,agent:"Background",tech:"è°ƒåº¦å™¨",products:["Superhuman"],example:"è‡ªåŠ¨å¤„ç†é‚®ä»¶"},{id:"task-desktop-auto",name:"æ¡Œé¢è‡ªåŠ¨åŒ–",timePercent:.5,agent:"Computer",tech:"ComputerUse",products:["Claude Computer"],example:"è‡ªåŠ¨åŒ–æ¡Œé¢æ“ä½œ"},{id:"task-form-fill",name:"è¡¨å•å¡«å†™",timePercent:.5,agent:"Browser",tech:"BrowserUse",products:["Browser Use"],example:"è‡ªåŠ¨å¡«å†™è¡¨å•"},{id:"task-info-push",name:"ä¿¡æ¯æŽ¨é€",timePercent:.5,agent:"Background",tech:"è°ƒåº¦å™¨",products:["Feedly","è±†åŒ…"],example:"æŽ¨é€é‡è¦ä¿¡æ¯"}]}}}},agentData={Coding:{id:"agent-coding",name:"Coding Agent",icon:"ðŸ’»",coverage:47,techs:["LLM","ä»£ç ç´¢å¼•"]},Chatbot:{id:"agent-chatbot",name:"Chatbot Agent",icon:"ðŸ’¬",coverage:15,techs:["LLM","RAG"]},Workflow:{id:"agent-workflow",name:"Workflow Agent",icon:"âš™ï¸",coverage:15,techs:["LLM","å›¾è¡¨å¼•æ“Ž"]},Research:{id:"agent-research",name:"Research Agent",icon:"ðŸ”¬",coverage:8,techs:["LLM","WebSearch"]},Background:{id:"agent-background",name:"Background Agent",icon:"â°",coverage:4,techs:["è°ƒåº¦å™¨","ComputerUse"]},Design:{id:"agent-design",name:"Design Agent",icon:"ðŸŽ¨",coverage:4,techs:["å›¾è¡¨å¼•æ“Ž"]},Data:{id:"agent-data",name:"Data Analysis Agent",icon:"ðŸ“Š",coverage:3,techs:["SQLå¼•æ“Ž","LLM"]},Browser:{id:"agent-browser",name:"Browser Use Agent",icon:"ðŸŒ",coverage:2,techs:["BrowserUse"]},Computer:{id:"agent-computer",name:"Computer Use Agent",icon:"ðŸ–¥ï¸",coverage:2,techs:["ComputerUse"]}},techData={LLM:{id:"tech-llm",name:"LLM",desc:"å¤§è¯­è¨€æ¨¡åž‹"},"ä»£ç ç´¢å¼•":{id:"tech-code-index",name:"ä»£ç ç´¢å¼•",desc:"ä»£ç åº“ç´¢å¼•åˆ†æž"},RAG:{id:"tech-rag",name:"RAG",desc:"æ£€ç´¢å¢žå¼ºç”Ÿæˆ"},WebSearch:{id:"tech-websearch",name:"WebSearch",desc:"ç½‘é¡µæœç´¢"},BrowserUse:{id:"tech-browseruse",name:"BrowserUse",desc:"æµè§ˆå™¨è‡ªåŠ¨åŒ–"},ComputerUse:{id:"tech-computeruse",name:"ComputerUse",desc:"æ¡Œé¢è‡ªåŠ¨åŒ–"},"è°ƒåº¦å™¨":{id:"tech-scheduler",name:"è°ƒåº¦å™¨",desc:"ä»»åŠ¡è°ƒåº¦"},"å›¾è¡¨å¼•æ“Ž":{id:"tech-chart",name:"å›¾è¡¨å¼•æ“Ž",desc:"å›¾è¡¨ç”Ÿæˆ"},"SQLå¼•æ“Ž":{id:"tech-sql",name:"SQLå¼•æ“Ž",desc:"SQLç”Ÿæˆæ‰§è¡Œ"}},productLinks={Copilot:"https://github.com/features/copilot",Cursor:"https://cursor.sh","Claude Code":"https://claude.ai",Claude:"https://claude.ai",ChatGPT:"https://chat.openai.com",Replit:"https://replit.com",Codeium:"https://codeium.com",Devin:"https://devin.ai","v0.dev":"https://v0.dev",CodeRabbit:"https://coderabbit.ai",Codacy:"https://www.codacy.com",Snyk:"https://snyk.io",SonarQube:"https://www.sonarsource.com/products/sonarqube",Diffblue:"https://www.diffblue.com","Notion AI":"https://www.notion.so/product/ai",Mintlify:"https://mintlify.com",Readme:"https://readme.com",Eraser:"https://www.eraser.io",Mermaid:"https://mermaid.js.org",dbdiagram:"https://dbdiagram.io",Julius:"https://julius.ai",Hex:"https://hex.tech","GitHub Actions":"https://github.com/features/actions","Gmail AI":"https://workspace.google.com/products/gmail",Gamma:"https://gamma.app","Beautiful.ai":"https://www.beautiful.ai",Grammarly:"https://www.grammarly.com",DeepL:"https://www.deepl.com",Perplexity:"https://www.perplexity.ai","Browser Use":"https://browser-use.com",Otter:"https://otter.ai",Fireflies:"https://fireflies.ai",Glean:"https://www.glean.com",Midjourney:"https://www.midjourney.com","DALL-E":"https://openai.com/dall-e-3","Canva AI":"https://www.canva.com/ai-image-generator",Sora:"https://openai.com/sora",HeyGen:"https://www.heygen.com",Synthesia:"https://www.synthesia.io",ElevenLabs:"https://elevenlabs.io",Motion:"https://www.usemotion.com",Superhuman:"https://superhuman.com",Feedly:"https://feedly.com","Claude Computer":"https://claude.ai","é€šä¹‰çµç ":"https://tongyi.aliyun.com/lingma",MarsCode:"https://www.marscode.cn","æ–‡å¿ƒå¿«ç ":"https://comate.baidu.com",Kimi:"https://kimi.moonshot.cn","é€šä¹‰åƒé—®":"https://tongyi.aliyun.com","æ–‡å¿ƒä¸€è¨€":"https://yiyan.baidu.com","è±†åŒ…":"https://www.doubao.com","ç§˜å¡”æœç´¢":"https://metaso.cn","é£žä¹¦æ–‡æ¡£":"https://www.feishu.cn/product/docs","WPS AI":"https://ai.wps.cn","ç¨¿å®šAI":"https://www.gaoding.com/ai","å¯çµAI":"https://klingai.kuaishou.com","å³æ¢¦AI":"https://jimeng.jianying.com","æœ‰é“ç¿»è¯‘":"https://fanyi.youdao.com","è®¯é£žæ˜Ÿç«":"https://xinghuo.xfyun.cn","è…¾è®¯æ··å…ƒ":"https://hunyuan.tencent.com","é£žä¹¦å¦™è®°":"https://www.feishu.cn/product/minutes"},productsData=Object.keys(productLinks),techProductMapping={LLM:["Claude","ChatGPT","Copilot","Cursor","Claude Code","Replit","CodeRabbit","Snyk","Notion AI","Mintlify","Gmail AI","Grammarly","Otter","Gamma","Sora","HeyGen","Loom"],"ä»£ç ç´¢å¼•":["Copilot","Cursor","Claude Code","CodeRabbit"],RAG:["Glean","Notion AI"],WebSearch:["Perplexity","Claude"],BrowserUse:["Browser Use"],ComputerUse:["Claude Computer"],"è°ƒåº¦å™¨":["GitHub Actions","Motion","Superhuman","Feedly"],"å›¾è¡¨å¼•æ“Ž":["Eraser","Mermaid","dbdiagram","Midjourney","Canva AI","Gamma"],"SQLå¼•æ“Ž":["Julius","Hex","ChatGPT"]},config={width:1600,height:1800,padding:{top:80,right:40,bottom:40,left:40},columnWidth:240,nodeHeight:36,nodeGap:8,columnGap:20},columns=[{id:"scene",title:"åœºæ™¯å¤§ç±»",x:0},{id:"subcat",title:"åœºæ™¯å­ç±»",x:1},{id:"task",title:"å·¥ä½œä»»åŠ¡",x:2},{id:"agent",title:"Agentç±»åž‹",x:3},{id:"product",title:"ä¸šç•Œäº§å“",x:4}],gradients={scene:{start:"#FF5500",end:"#FF7733"},subcat:{start:"#E67E22",end:"#F39C12"},task:{start:"#11998e",end:"#38ef7d"},agent:{start:"#667eea",end:"#764ba2"},product:{start:"#f093fb",end:"#f5576c"}};function renderNetworkGraph(){const e=document.getElementById("network-container");if(!e)return;const t=[],n=[],a=[],o=new Map,i=new Map,s=new Map,c=[];let r=0;Object.entries(taskData).forEach(([e,d])=>{const m=r;Object.entries(d.subcategories).forEach(([e,t])=>{const m=r;t.tasks.forEach(e=>{a.push({id:e.id,name:e.name,y:r,timePercent:e.timePercent,example:e.example,agentType:e.agent,products:e.products,sceneId:d.id,subcatId:t.id}),o.has(e.agent)||o.set(e.agent,{...agentData[e.agent],taskIds:[],techIds:new Set}),o.get(e.agent).taskIds.push(e.id),c.push({from:e.id,to:agentData[e.agent].id,type:"task-agent"});const n=e.tech;i.has(n)||i.set(n,{...techData[n],agentIds:new Set,productIds:new Set}),i.get(n).agentIds.add(agentData[e.agent].id),o.get(e.agent).techIds.add(techData[n].id),e.products.forEach(t=>{s.has(t)||s.set(t,{id:`product-${t.toLowerCase().replace(/\s+/g,"-")}`,name:t,taskIds:[]}),s.get(t).taskIds.push(e.id),c.push({from:e.id,to:s.get(t).id,type:"task-product"})}),r++}),n.push({id:t.id,name:e,y:(m+r-1)/2,timePercent:t.timePercent,taskCount:t.tasks.length,sceneId:d.id,taskIds:t.tasks.map(e=>e.id)}),t.tasks.forEach(e=>{c.push({from:t.id,to:e.id,type:"subcat-task"})})}),t.push({id:d.id,name:d.name,y:(m+r-1)/2,timePercent:d.timePercent,subcatIds:Object.values(d.subcategories).map(e=>e.id)}),Object.values(d.subcategories).forEach(e=>{c.push({from:d.id,to:e.id,type:"scene-subcat"})})});const d=[];o.forEach((e,t)=>{const n=a.filter(t=>e.taskIds.includes(t.id)),o=n.reduce((e,t)=>e+t.y,0)/n.length;d.push({...e,key:t,y:o})}),d.sort((e,t)=>e.y-t.y);let m=0;d.forEach((e,t)=>{e.displayY=m,m+=1.5});const l=[];s.forEach((e,t)=>{const n=a.filter(t=>e.taskIds.includes(t.id)),o=n.length>0?n.reduce((e,t)=>e+t.y,0)/n.length:l.length;l.push({...e,key:t,y:o})}),l.sort((e,t)=>e.y-t.y);let p=0;l.forEach((e,t)=>{e.displayY=p,p+=.85});const h=.85*l.length*1.3,g=Math.max(a.length,h,2.5*d.length),u=createSVG(config.padding.top+g*(config.nodeHeight+config.nodeGap)+config.padding.bottom+100,config.padding.left+config.padding.right+5*config.columnWidth+4*config.columnGap+30,t,n,a,d,l,c);e.innerHTML=`\n        <div class="zoom-controls">\n            <button class="zoom-btn" id="zoom-in" title="æ”¾å¤§">\n                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                    <circle cx="11" cy="11" r="8"/>\n                    <path d="M21 21l-4.35-4.35M11 8v6M8 11h6"/>\n                </svg>\n            </button>\n            <button class="zoom-btn" id="zoom-reset" title="é‡ç½®">\n                <span class="zoom-level">100%</span>\n            </button>\n            <button class="zoom-btn" id="zoom-out" title="ç¼©å°">\n                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                    <circle cx="11" cy="11" r="8"/>\n                    <path d="M21 21l-4.35-4.35M8 11h6"/>\n                </svg>\n            </button>\n            <button class="zoom-btn" id="zoom-fit" title="é€‚åº”çª—å£">\n                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n                    <path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/>\n                </svg>\n            </button>\n        </div>\n    <div class="svg-wrapper" id="svg-wrapper">${u}</div>`,initZoomControls()}function createSVG(e,t,n,a,o,i,s,c){const r=(t-config.padding.left-config.padding.right)/5,d=e=>config.padding.left+e*r+r/2,m=(e,t=1)=>config.padding.top+e*(config.nodeHeight+config.nodeGap)*t;let l=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${t} ${e}" width="100%" height="100%" preserveAspectRatio="xMidYMin meet" style="max-width: 100%;">`;l+="<defs>",Object.entries(gradients).forEach(([e,t])=>{l+=`\n            <linearGradient id="grad-${e}" x1="0%" y1="0%" x2="100%" y2="0%">\n                <stop offset="0%" style="stop-color:${t.start};stop-opacity:1" />\n                <stop offset="100%" style="stop-color:${t.end};stop-opacity:1" />\n            </linearGradient>\n        `}),l+="</defs>",l+='<g class="column-titles">',columns.forEach((e,t)=>{l+=`<text x="${d(t)}" y="40" text-anchor="middle" class="column-title" fill="#374151" font-size="14" font-weight="600">${e.title}</text>`}),l+="</g>",l+='<g class="connections">',n.forEach(e=>{const t=d(0)+r/2-10,n=m(e.y)+config.nodeHeight/2;a.filter(t=>e.subcatIds.includes(t.id)).forEach(a=>{const o=d(1)-r/2+10,i=m(a.y)+config.nodeHeight/2;l+=createBezierPath(t,n,o,i,e.id,a.id)})}),a.forEach(e=>{const t=d(1)+r/2-10,n=m(e.y)+config.nodeHeight/2;o.filter(t=>e.taskIds.includes(t.id)).forEach(a=>{const o=d(2)-r/2+10,i=m(a.y)+config.nodeHeight/2;l+=createBezierPath(t,n,o,i,e.id,a.id)})}),o.forEach(e=>{const t=d(2)+r/2-10,n=m(e.y)+config.nodeHeight/2,a=i.find(t=>t.key===e.agentType);if(a){const o=d(3)-r/2+10,i=m(a.displayY,2.5)+config.nodeHeight/2;l+=createBezierPath(t,n,o,i,e.id,a.id)}}),o.forEach(e=>{const t=d(2)+r/2-10,n=m(e.y)+config.nodeHeight/2;e.products.forEach(a=>{const o=s.find(e=>e.name===a);if(o){const a=d(4)-r/2+10,i=m(o.displayY,1.1)+config.nodeHeight/2;l+=createBezierPath(t,n,a,i,e.id,o.id)}})}),l+="</g>";const p=r-20;return l+='<g class="scene-nodes">',n.forEach(e=>{l+=createNode(d(0)-p/2,m(e.y),p,config.nodeHeight,e.name,"scene",e.id,`${e.timePercent}%`,!0,"")}),l+="</g>",l+='<g class="subcat-nodes">',a.forEach(e=>{l+=createNode(d(1)-p/2,m(e.y),p,config.nodeHeight,e.name,"subcat",e.id,`${e.timePercent}%`,!0,e.sceneId)}),l+="</g>",l+='<g class="task-nodes">',o.forEach(e=>{l+=createNode(d(2)-p/2,m(e.y),p,config.nodeHeight,e.name,"task",e.id,`${e.timePercent}%`,!1,e.subcatId)}),l+="</g>",l+='<g class="agent-nodes">',i.forEach(e=>{l+=createNode(d(3)-p/2,m(e.displayY,2.5),p,config.nodeHeight,`${e.icon} ${e.key}`,"agent",e.id,`${e.coverage}%`,!1,"")}),l+="</g>",l+='<g class="product-nodes">',s.forEach(e=>{l+=createNode(d(4)-p/2,m(e.displayY,1.1),p,config.nodeHeight,e.name,"product",e.id,"",!1,"")}),l+="</g>",l+="</svg>",l}function createBezierPath(e,t,n,a,o,i){const s=Math.min(Math.abs(n-e)/3,80);return`<path \n        class="graph-connection" \n        d="M ${e} ${t} C ${e+s} ${t}, ${n-s} ${a}, ${n} ${a}" \n        fill="none" \n        stroke="#CBD5E1" \n        stroke-width="1.5"\n        data-from="${o}"\n        data-to="${i}"\n    />`}function createNode(e,t,n,a,o,i,s,c="",r=!1,d=""){const m=o.length>14?o.substring(0,12)+"...":o,l="product"===i?productLinks[o]:null;return"product"===i&&l?`\n            <g class="graph-node" data-id="${s}" data-type="${i}" data-url="${l}" data-name="${o}" data-parent="${d}" style="cursor: pointer;">\n                <rect \n                    class="node-bg"\n                    x="${e}" \n                    y="${t}" \n                    width="${n}" \n                    height="${a}" \n                    rx="6" \n                    ry="6" \n                    fill="url(#grad-${i})"\n                />\n                <a class="product-link-area" href="${l}" target="_blank" rel="noopener noreferrer">\n                    <text \n                        class="node-text-link"\n                        x="${e+n/2}" \n                        y="${t+a/2+1}" \n                        text-anchor="middle" \n                        dominant-baseline="middle" \n                        fill="white" \n                        font-size="12" \n                        font-weight="500"\n                        style="cursor: pointer; text-decoration: underline; text-underline-offset: 2px;"\n                    >${m} â†—</text>\n                </a>\n            </g>\n        `:`\n        <g class="graph-node" data-id="${s}" data-type="${i}" data-parent="${d}" style="cursor: pointer;">\n            <rect \n                x="${e}" \n                y="${t}" \n                width="${n}" \n                height="${a}" \n                rx="6" \n                ry="6" \n                fill="url(#grad-${i})"\n            />\n            <text \n                x="${e+n/2}" \n                y="${t+a/2+1}" \n                text-anchor="middle" \n                dominant-baseline="middle" \n                fill="white" \n                font-size="12" \n                font-weight="500"\n            >${m}</text>\n            ${c?`<text \n                x="${e+n-8}" \n                y="${t+10}" \n                text-anchor="end" \n                fill="rgba(255,255,255,0.8)" \n                font-size="9" \n                font-weight="400"\n            >${c}</text>`:""}\n            ${("scene"===i||"subcat"===i)&&r?`\n        <g class="collapse-btn" data-target="${s}" style="cursor: pointer;">\n            <circle \n                cx="${e+n+12}" \n                cy="${t+a/2}" \n                r="8" \n                fill="white" \n                stroke="#94A3B8" \n                stroke-width="1"\n            />\n            <text \n                class="collapse-icon"\n                x="${e+n+12}" \n                y="${t+a/2+1}" \n                text-anchor="middle" \n                dominant-baseline="middle" \n                fill="#475569" \n                font-size="12" \n                font-weight="bold"\n            >âˆ’</text>\n        </g>\n    `:""}\n        </g>\n    `}let currentZoom=1;const MIN_ZOOM=.3,MAX_ZOOM=2,ZOOM_STEP=.1;function initZoomControls(){const e=document.getElementById("svg-wrapper"),t=document.getElementById("zoom-in"),n=document.getElementById("zoom-out"),a=document.getElementById("zoom-reset"),o=document.getElementById("zoom-fit");e&&(t?.addEventListener("click",()=>{setZoom(currentZoom+ZOOM_STEP)}),n?.addEventListener("click",()=>{setZoom(currentZoom-ZOOM_STEP)}),a?.addEventListener("click",()=>{setZoom(1)}),o?.addEventListener("click",()=>{fitToContainer()}),e.addEventListener("wheel",e=>{if(e.ctrlKey||e.metaKey){e.preventDefault();const t=e.deltaY>0?-ZOOM_STEP:ZOOM_STEP;setZoom(currentZoom+t)}},{passive:!1}),setTimeout(()=>fitToContainer(),100))}function setZoom(e){currentZoom=Math.max(.3,Math.min(2,e));const t=document.getElementById("svg-wrapper"),n=t?.querySelector("svg"),a=document.querySelector(".zoom-level");n&&(n.style.transform=`scale(${currentZoom})`,n.style.transformOrigin="top left"),a&&(a.textContent=`${Math.round(100*currentZoom)}%`)}function fitToContainer(){const e=document.getElementById("network-container"),t=document.getElementById("svg-wrapper"),n=t?.querySelector("svg");if(!e||!n)return;const a=n.getAttribute("viewBox");if(!a)return;const[,,o,i]=a.split(" ").map(Number),s=(e.clientWidth-40)/o;setZoom(Math.min(s,1))}window.graphData={taskData:taskData,agentData:agentData,techData:techData,productsData:productsData,productLinks:productLinks,techProductMapping:techProductMapping},document.addEventListener("DOMContentLoaded",function(){renderNetworkGraph()}),window.addEventListener("resize",()=>{document.getElementById("svg-wrapper")&&fitToContainer()});